{% extends "base.html" %}

{% block title %}Lobby - Business Game{% endblock %}

{% block content %}
<h2 style="text-align: center;">Bem-vindo ao Lobby, {{ usuario.username }}</h2>

<div class="orbita-container">
  <div class="circulo">
    <div class="icone" style="--i:0;"><img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" alt="User"></div>
    <div class="icone" style="--i:1;"><img src="https://cdn-icons-png.flaticon.com/512/888/888879.png" alt="Target"></div>
    <div class="icone" style="--i:2;"><img src="https://cdn-icons-png.flaticon.com/512/1828/1828490.png" alt="Star"></div>
    <div class="icone" style="--i:3;"><img src="https://cdn-icons-png.flaticon.com/512/709/709496.png" alt="Chat"></div>
  </div>
</div>

<div style="text-align: center;">
  <a href="{% url 'dashboard' %}">
    <button>Voltar ao Dashboard</button>
  </a>
</div>

  <h3>Partidas disponíveis</h3>
  <ul>
    {% for partida in partidas %}
      <li>
        {{ partida.nome }} 
        <button>Entrar</button>
      </li>
    {% empty %}
      <li>Nenhuma partida disponível</li>
    {% endfor %}
  </ul>

  <hr>

  <h3>Criar nova partida</h3>
  <form method="POST">
    {% csrf_token %}
    <input type="text" name="nome_partida" placeholder="Nome da partida" required>
    <button type="submit">Criar</button>
  </form>
{% endblock %}

<style>
  .orbita-container {
    display: flex;
    justify-content: center;
    margin: 40px 0;
  }

  .circulo {
    width: 250px;
    height: 250px;
    border-radius: 50%;
    position: relative;
    animation: girar 20s linear infinite;
  }

  .icone {
    width: 40px;
    height: 40px;
    position: absolute;
    top: 50%;
    left: 50%;
    margin: -20px;
    transform: rotate(calc(90deg * var(--i))) translate(100px) rotate(calc(-90deg * var(--i)));
  }

  .icone img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  @keyframes girar {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>